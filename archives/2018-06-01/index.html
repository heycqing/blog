<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>关于在移动端 body overflow：hidden 无效的问题 | Cqing 博客</title>

  
  <meta name="author" content="Cqing">
  

  
  <meta name="description" content="一、简述  这篇文章作为一道前菜哈。🍎   很多同学在做移动端的时候都有遇到移动端各种坑，各种固定fiexd失效，input输入框错位，软键盘弹出错位等等….">
  

  
  <meta name="keywords" content="heycqing,cqing,伍思卿,前端学习,北京理工大学珠海学院，wusiqingss">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="关于在移动端 body overflow：hidden 无效的问题">

  <meta property="og:site_name" content="Cqing 博客">

  
  <meta property="og:image" content="/favicon.ico">
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Cqing 博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129505375-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-129505375-1');
  </script>
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?1089516899016647991a2880ca17adff";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
</head>


<body>
<div class="blog">
  <div class="content">

    <header id="cqing-header">
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Cqing 博客</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/blog/archives">文章列表</a></li>
      
        <li><a href="/categories">文章分类</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>关于在移动端 body overflow：hidden 无效的问题</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/blog/archives/2018-06-01/" rel="bookmark">
        <time class="entry-date published" datetime="2018-06-01T01:58:30.000Z">
          2018-06-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="一、简述-这篇文章作为一道前菜哈。"><a href="#一、简述-这篇文章作为一道前菜哈。" class="headerlink" title="一、简述  这篇文章作为一道前菜哈。"></a>一、简述  这篇文章作为一道前菜哈。</h2><p>🍎   很多同学在做移动端的时候都有遇到移动端各种坑，各种固定fiexd失效，input输入框错位，软键盘弹出错位等等….<a id="more"></a>但是，在做一张单页面的页面时，尤其是以整个页面去加载背景图片的时候，背景图片固定就很有必要了。  这里先讨论一下body关于overflow的问题，移动端固定的问题会在下一篇文章讨论。</p>
<h2 id="二、简单演示"><a href="#二、简单演示" class="headerlink" title="二、简单演示"></a>二、简单演示</h2><p>很多时候都是想着使用<code>body</code>去固定:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">position:fixed; //这个属性暂时不提，重点看overflow</span><br><span class="line"><span class="selector-tag">overflow</span><span class="selector-pseudo">:hidden</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="1、这样的效果在「PC端」是可以的，整个页面时被固定的："><a href="#1、这样的效果在「PC端」是可以的，整个页面时被固定的：" class="headerlink" title="1、这样的效果在「PC端」是可以的，整个页面时被固定的："></a>1、这样的效果在「PC端」是可以的，整个页面时被固定的：</h3><p>em….感觉说的好空，有句话说得好<strong>「talk is easy ,show me the code」</strong> ，上个demo 👀：</p>
<p><img src="/static/images/2018-06-01/1.png" alt=""></p>
<p>em…上完code，再来「PC端」的效果演示：</p>
<p><img src="/static/images/2018-06-01/2.gif" alt=""><br> OK，上面GIF演示的效果已经告诉我们，body的<code>overflow：hidden</code>在「PC端」是有效果的。  em..接下来是重点好吧，说说在移动端的body 如何不行？</p>
<h5 id="2、同样的样式在「移动端」是可以滑动的，可以滑动就是不合理了。"><a href="#2、同样的样式在「移动端」是可以滑动的，可以滑动就是不合理了。" class="headerlink" title="2、同样的样式在「移动端」是可以滑动的，可以滑动就是不合理了。"></a>2、同样的样式在「移动端」是可以滑动的，可以滑动就是不合理了。</h5><p>💡如何看手机的上样式效果对不对，我这里稍微讲2种方式哈：</p>
<p>（<strong>A.</strong>说用「微信开发者工具」的同学，我这里就不讲了，这也是一种方法可以查看移动端的样式效果，尤其是要用在微信网页中的，是一个不错的推荐。<strong>B.</strong>说用模拟器的同学，我也不想说太多了，查看一个简单的样式，难道要全开安卓和iOS 模拟器？😂C.还有其他插件比我接下来介绍还好用的方法，这里我也不多说了，我还在摸索这些好用的方法。）</p>
<h4 id="2-1、放到服务器上"><a href="#2-1、放到服务器上" class="headerlink" title="2.1、放到服务器上"></a>2.1、放到服务器上</h4><p>这样，我把网页放到了我个人的服务器上，比较简单粗暴的做法，很通用哈，一输网址就可以看到了，下面是把网页放到手机之后的效果：</p>
<p><img src="/static/images/2018-06-01/3.gif" alt=""></p>
<p>看到上面效果，what！！！body的<code>hidden:overflow</code>确实在「移动端」真是无效的，很明显的是可以滑动..</p>
<p>这时IOS手机上的效果，在安卓手机上同样也是一样的效果，这里我就不录屏了，有点累呀🙃</p>
<p>细心的同学可以发现我手机上的网页会出现蓝色，橙色的遮罩，em…get 到我这个点了，上面演示的是第二种方法里的一些调试。</p>
<p>  <strong>2.2使用远程web调试工具—–weinre</strong> ⚠️<strong>注意！注意！注意！使用的是weinre这款远程调试工具，重要的事情讲一遍。</strong></p>
<p><img src="/static/images/2018-06-01/4.png" alt=""></p>
<pre><code> 上面说的就是可以使用这个款远程web页面调试工具，一款稍显老的工具，不过**好在可以跨平台全终端使用，可以无线查看和调试dom和css样式，**但是不可以修改dom,不可以断点调试…em…缺点比较多，但是用来查看这个demo是妥妥的。

有兴趣的同学可以找一下weinre的使用方法。（或者空闲的时候写一下使用weinre的基本教程和心得😂）
</code></pre><p><strong>      原理就是需要在原网页中插入一段js代码，实现中间的target，用于传输调试请求，请保持在同一网络上。</strong></p>
<p>⚠️ <strong>重点来了！重点来了！重点来了！</strong></p>
<p>作用： <strong>2.2.1、可以实现移动端可以无线直接查看本地电脑编写的网页，而无需放置到服务器上。</strong></p>
<p><strong>2.2.2、可以实现在电脑直接对移动端进行dom和样式调试，无线连接调试。</strong></p>
<p>可以上个图看一下效果；</p>
<p><strong>第一种情况：就是我直接在weinre目录中添加需要查看的文件，在手机上可以直接访问电脑ip，获取本地编写的网页。</strong>                上个图先：</p>
<p><strong>～文件所在：</strong></p>
<p><img src="/static/images/2018-06-01/5.png" alt=""></p>
<p><strong>～手机访问：</strong></p>
<p><img src="/static/images/2018-06-01/6.jpeg" alt=""></p>
<pre><code>可以清晰的看到手机和电脑处于同一局域网，手机正在访问到电脑本地的网页。
</code></pre><p><strong>第二种情况：我把网页放到了我的服务器上，手机访问可以直接查看，在电脑上也是可以对手机的样式进行调试的，如下图：</strong><br> <img src="/static/images/2018-06-01/7.jpeg" alt=""><br> 这里是可以看到我通过网络访问进行的，并在浏览器出现类似于chrome dev调试工具的页面，正在对手机样式进行调试。<br> <strong>好吧综上所述，可以看到weinre是可以又这个能力对移动端进行样式调试的，并且证明说overflow:hidden在移动端确实是可以进行无障碍的滑动。</strong><br> ⚠️⚠️⚠️ 回到主题！回到主题！回到主题！</p>
<h4 id="三、结论以及解决方法"><a href="#三、结论以及解决方法" class="headerlink" title="三、结论以及解决方法"></a>三、结论以及解决方法</h4><pre><code>   事实证明了hidden在移动端无效。原因总结来说是移动端的坑，对网页兼容的问题；我觉得是移动端网页的html页面本身也是可以「上下拉扯滑动1」的，而body的position位置默认是static，不做修改的情况下是直接随着html页面「滑动1」，而body可以直接在html内实现「滑动2」，（两个滑动是不一样的滑动，「滑动1」指的是整个html相对于浏览器窗口滑动，「滑动2」指的是整个body相对于html页面滑动）

下面是「滑动1」的如图：
</code></pre><p><img src="/static/images/2018-06-01/8.jpeg" alt=""></p>
<p>  「滑动2」就是我们本身可以看到的那种效果。</p>
<pre><code>解决方法：

通过父节点固定，像body的父节点是html，可以通过固定父节点html， 来把其下的字节点固定，当然字节点前提是不做脱离文档流的行为。
</code></pre><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>&#123;</span><br><span class="line"><span class="attribute">position</span>:fixed;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>   完整代码如下：</p>
<p><img src="/static/images/2018-06-01/9.png" alt=""></p>
<pre><code>这里剧个透，有个细节的地方是：

 比较多的同学会直接不添加父节点固定，而是直接把body给赋值position:fixed了；如下
</code></pre><p><img src="/static/images/2018-06-01/10.png" alt=""></p>
<p>直接这样写的，很明显在手机端可以看到，body是固定的，但是整个html页面在滑动，这就达不到固定的预期的要求了。同时这样子很容易会造成一种错觉，在接下来写的元素中会让人觉得是整个element在自己滑动，其实不是，是html页面在滑动。<br>嗯嗯，总结来说就是这样子。有关于移动端的坑可以交流一下，我这里刚好有些链接，本人觉得是挺不错的各种移动端的坑的总结。  </p>
<p>放其中的一个链接：<a href="https://github.com/markyun/My-blog/issues/88" target="_blank" rel="noopener">https://github.com/markyun/My-blog/issues/88</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/前端/">前端</a>, <a href="/categories/前端/小技巧/">小技巧</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/前端小技巧/">前端小技巧</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    博主github <a href="https://github.com/heycqing" target="_blank">heycqing</a> 
    <br>
    
    &copy; 2018 Cqing
    
  </p>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-129505375-1', 'auto');
    ga('send', 'pageview');

</script>

  </div>
</div>
<script src="/blog/js/components/header.js"></script>
</body>
</html>