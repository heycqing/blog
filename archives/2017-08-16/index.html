<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>前端构建工具——gulp.js的使用 | Cqing 博客</title>

  
  <meta name="author" content="Cqing">
  

  
  <meta name="description" content="">
  

  
  <meta name="keywords" content="heycqing,cqing,伍思卿,前端学习,北京理工大学珠海学院，wusiqingss">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="前端构建工具——gulp.js的使用">

  <meta property="og:site_name" content="Cqing 博客">

  
  <meta property="og:image" content="/favicon.ico">
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Cqing 博客" type="application/atom+xml">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129505375-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-129505375-1');
  </script>
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?1089516899016647991a2880ca17adff";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
</head>


<body>
<div class="blog">
  <div class="content">

    <header id="cqing-header">
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Cqing 博客</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
         <!-- <li><a href="/">主页</a></li> -->
      
        <li><a href="/blog/archives">我的文章</a></li>
      
        <!-- <li><a href="/categories">文章分类</a></li> -->
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>前端构建工具——gulp.js的使用</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/blog/archives/2017-08-16/" rel="bookmark">
        <time class="entry-date published" datetime="2017-08-16T05:25:15.000Z">
          2017-08-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><img src="/blog/static/images/2017-08-16/title.jpg" alt=""></p>
<a id="more"></a>
<p>前端构建工具—gulp.js gulp.js和grunt.js都是前端工程流中的一种前端构建工具，其核心功能都是自动化对代码，图片进行压缩，校验，之后再以页面为单位进行简单的资源整合，以用来提高效率。 说到底，就是一种用来解放双手，自动化地代替人们做重复的工作的自动化工具。 本人是学习了用gulp.js这种工具，与<a href="http://gruntjs.com/" target="_blank" rel="noopener">gruntjs</a>相比，gulpjs无需写一大堆繁杂的配置参数，API也非常简单，学习起来很容易，而且gulpjs使用的是nodejs中<a href="http://nodejs.org/api/stream.html" target="_blank" rel="noopener">stream</a>来读取和操作数据，其速度更快。 在使用之前，请确认已经安装了node.js。  </p>
<h1 id="安装gulp"><a href="#安装gulp" class="headerlink" title="安装gulp"></a>安装gulp</h1><p>下面是官网给出的安装流程，和执行流程。</p>
<p><img src="/blog/static/images/2017-08-16/1.png" alt="">  </p>
<p><strong>安装完成后，直接运行 gulp &lt;任务名字&gt;</strong> <strong>如下图是我自己的gulp.js 和运行情况</strong> </p>
<p><img src="/blog/static/images/2017-08-16/2.png" alt="">  </p>
<h3 id="没标明具体任务名字，gulp会运行默认的任务。"><a href="#没标明具体任务名字，gulp会运行默认的任务。" class="headerlink" title="没标明具体任务名字，gulp会运行默认的任务。"></a><strong>没标明具体任务名字，gulp会运行默认的任务。</strong></h3><p><img src="/blog/static/images/2017-08-16/3.png" alt=""></p>
<h1 id="gulp插件"><a href="#gulp插件" class="headerlink" title="gulp插件"></a>gulp插件</h1><p>下面我就只说一些关于js,css,html和图片的压缩</p>
<h3 id="js文件压缩："><a href="#js文件压缩：" class="headerlink" title="js文件压缩："></a>js文件压缩：</h3><p>使用<a href="https://www.npmjs.com/packages/gulp-uglify" target="_blank" rel="noopener">gulp-uglify</a> 安装：<code>npm install --save-dev gulp-uglify</code> 用来压缩js文件，使用的是uglify引擎</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    uglify = <span class="built_in">require</span>(<span class="string">"gulp-uglify"</span>);</span><br><span class="line"> </span><br><span class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'js/*.js'</span>) <span class="comment">// 要压缩的js文件</span></span><br><span class="line">    .pipe(uglify())  <span class="comment">//使用uglify进行压缩,更多配置请参考：</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/js'</span>)); <span class="comment">//压缩后的路径</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="css文件的压缩"><a href="#css文件的压缩" class="headerlink" title="css文件的压缩"></a>css文件的压缩</h3><p>使用<a href="https://www.npmjs.com/packages/gulp-minify-css" target="_blank" rel="noopener">gulp-minify-css</a> 安装：<code>npm install --save-dev gulp-minify-css</code> 要压缩css文件时可以使用该插件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    minifyCss = <span class="built_in">require</span>(<span class="string">"gulp-minify-css"</span>);</span><br><span class="line"> </span><br><span class="line">gulp.task(<span class="string">'minify-css'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'css/*.css'</span>) <span class="comment">// 要压缩的css文件</span></span><br><span class="line">    .pipe(minifyCss()) <span class="comment">//压缩css</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="less和sass的编译："><a href="#less和sass的编译：" class="headerlink" title="less和sass的编译："></a>less和sass的编译：</h3><p>less使用<a href="https://www.npmjs.com/packages/gulp-less" target="_blank" rel="noopener">gulp-less</a>,安装：<code>npm install --save-dev gulp-less</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    less = <span class="built_in">require</span>(<span class="string">"gulp-less"</span>);</span><br><span class="line"> </span><br><span class="line">gulp.task(<span class="string">'compile-less'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'less/*.less'</span>)</span><br><span class="line">    .pipe(less())</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>sass使用<a href="https://www.npmjs.com/packages/gulp-sass" target="_blank" rel="noopener">gulp-sass</a>,安装：<code>npm install --save-dev gulp-sass</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    sass = <span class="built_in">require</span>(<span class="string">"gulp-sass"</span>);</span><br><span class="line"> </span><br><span class="line">gulp.task(<span class="string">'compile-sass'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'sass/*.sass'</span>)</span><br><span class="line">    .pipe(sass())</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="html文件的压缩："><a href="#html文件的压缩：" class="headerlink" title="html文件的压缩："></a>html文件的压缩：</h3><p>使用<a href="https://www.npmjs.com/packages/gulp-minify-html" target="_blank" rel="noopener">gulp-minify-html</a> 安装：<code>npm install --save-dev gulp-minify-html</code> 用来压缩html文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    minifyHtml = <span class="built_in">require</span>(<span class="string">"gulp-minify-html"</span>);</span><br><span class="line"> </span><br><span class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'html/*.html'</span>) <span class="comment">// 要压缩的html文件</span></span><br><span class="line">    .pipe(minifyHtml()) <span class="comment">//压缩</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/html'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="图片的压缩："><a href="#图片的压缩：" class="headerlink" title="图片的压缩："></a>图片的压缩：</h3><p>可以使用<a href="https://github.com/sindresorhus/gulp-imagemin" target="_blank" rel="noopener">gulp-imagemin</a>插件来压缩jpg、png、gif等图片。 安装：<code>npm install --save-dev gulp-imagemin</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"><span class="keyword">var</span> pngquant = <span class="built_in">require</span>(<span class="string">'imagemin-pngquant'</span>); <span class="comment">//png图片压缩插件</span></span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/images/*'</span>)</span><br><span class="line">        .pipe(imagemin(&#123;</span><br><span class="line">            progressive: <span class="literal">true</span>,</span><br><span class="line">            use: [pngquant()] <span class="comment">//使用pngquant来压缩png图片</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>gulp-imagemin的使用比较复杂一点，而且它本身也有很多<a href="https://www.npmjs.com/browse/keyword/imageminplugin" target="_blank" rel="noopener">插件</a>，建议去它的<a href="https://github.com/sindresorhus/gulp-imagemin" target="_blank" rel="noopener">项目主页</a>看看文档</p>
<p>具体教程可以参考一下：<a href="http://www.cnblogs.com/2050/p/4198792.html" target="_blank" rel="noopener">http://www.cnblogs.com/2050/p/4198792.html</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/gulp教程/">gulp教程</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/gulp/">gulp</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    博主github <a href="https://github.com/heycqing" target="_blank">heycqing</a> 
    <br>
    
    &copy; 2018 Cqing
    
  </p>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-129505375-1', 'auto');
    ga('send', 'pageview');

</script>

  </div>
</div>
<script src="/blog/js/components/header.js"></script>
</body>
</html>